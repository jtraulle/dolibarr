<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Dolibarr: Translate Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../dolibarr.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dolibarr
   &#160;<span id="projectnumber">develop</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('de/d47/class_translate.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">Translate Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to manage translations.  
 <a href="../../de/d47/class_translate.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a44ec704be2feb5fddaf051fd87520b12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a44ec704be2feb5fddaf051fd87520b12">__construct</a> ($dir, $<a class="el" href="../../d3/d71/support_2inc_8php.html#a035374e60b1b749f5bc6e5cda4749b6b">conf</a>)</td></tr>
<tr class="memdesc:a44ec704be2feb5fddaf051fd87520b12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a44ec704be2feb5fddaf051fd87520b12">More...</a><br /></td></tr>
<tr class="separator:a44ec704be2feb5fddaf051fd87520b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62d6cf97c37e86945cdc34d78d4a8bd4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a62d6cf97c37e86945cdc34d78d4a8bd4">setDefaultLang</a> ($srclang= 'en_US')</td></tr>
<tr class="memdesc:a62d6cf97c37e86945cdc34d78d4a8bd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set accessor for this-&gt;defaultlang.  <a href="#a62d6cf97c37e86945cdc34d78d4a8bd4">More...</a><br /></td></tr>
<tr class="separator:a62d6cf97c37e86945cdc34d78d4a8bd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a306d4bc8cde7c374327b46e431902c98"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a306d4bc8cde7c374327b46e431902c98">getDefaultLang</a> ($mode=0)</td></tr>
<tr class="memdesc:a306d4bc8cde7c374327b46e431902c98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return active language code for current user It's an accessor for this-&gt;defaultlang.  <a href="#a306d4bc8cde7c374327b46e431902c98">More...</a><br /></td></tr>
<tr class="separator:a306d4bc8cde7c374327b46e431902c98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0482e38489845de6c3c3ccdc49bb0f04"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a0482e38489845de6c3c3ccdc49bb0f04">loadLangs</a> ($domains)</td></tr>
<tr class="memdesc:a0482e38489845de6c3c3ccdc49bb0f04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load translation files.  <a href="#a0482e38489845de6c3c3ccdc49bb0f04">More...</a><br /></td></tr>
<tr class="separator:a0482e38489845de6c3c3ccdc49bb0f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7821777011476e07448de1e91a06fbe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#aa7821777011476e07448de1e91a06fbe">load</a> ($domain, $alt=0, $stopafterdirection=0, $forcelangdir= '', $loadfromfileonly=0)</td></tr>
<tr class="memdesc:aa7821777011476e07448de1e91a06fbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load translation key-value for a particular file, into a memory array.  <a href="#aa7821777011476e07448de1e91a06fbe">More...</a><br /></td></tr>
<tr class="separator:aa7821777011476e07448de1e91a06fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0290ae6ca821c919ec9a8f69edac1b26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a0290ae6ca821c919ec9a8f69edac1b26">loadFromDatabase</a> ($<a class="el" href="../../d0/d79/install_2inc_8php.html#ac5c9be6a1c1e82d353381986a8e859b6">db</a>)</td></tr>
<tr class="memdesc:a0290ae6ca821c919ec9a8f69edac1b26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load translation key-value from database into a memory array.  <a href="#a0290ae6ca821c919ec9a8f69edac1b26">More...</a><br /></td></tr>
<tr class="separator:a0290ae6ca821c919ec9a8f69edac1b26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8621782a6bd9d9e9081a90b8e0f705a2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a8621782a6bd9d9e9081a90b8e0f705a2">trans</a> ($key, $param1= '', $param2= '', $param3= '', $param4= '', $maxsize=0)</td></tr>
<tr class="memdesc:a8621782a6bd9d9e9081a90b8e0f705a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return text translated of text received as parameter (and encode it into HTML) Si il n'y a pas de correspondance pour ce texte, on cherche dans fichier alternatif et si toujours pas trouve, il est retourne tel quel Les parametres de cette methode peuvent contenir de balises HTML.  <a href="#a8621782a6bd9d9e9081a90b8e0f705a2">More...</a><br /></td></tr>
<tr class="separator:a8621782a6bd9d9e9081a90b8e0f705a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69ac1a2f8eb76858d64badeb86421053"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a69ac1a2f8eb76858d64badeb86421053">transnoentities</a> ($key, $param1= '', $param2= '', $param3= '', $param4= '', $param5= '')</td></tr>
<tr class="memdesc:a69ac1a2f8eb76858d64badeb86421053"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return translated value of a text string Si il n'y a pas de correspondance pour ce texte, on cherche dans fichier alternatif et si toujours pas trouve, il est retourne tel quel.  <a href="#a69ac1a2f8eb76858d64badeb86421053">More...</a><br /></td></tr>
<tr class="separator:a69ac1a2f8eb76858d64badeb86421053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b01284dc00f6e45fbd00ba36368e875"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a1b01284dc00f6e45fbd00ba36368e875">transnoentitiesnoconv</a> ($key, $param1= '', $param2= '', $param3= '', $param4= '', $param5= '')</td></tr>
<tr class="memdesc:a1b01284dc00f6e45fbd00ba36368e875"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return translated value of a text string Si il n'y a pas de correspondance pour ce texte, on cherche dans fichier alternatif et si toujours pas trouve, il est retourne tel quel.  <a href="#a1b01284dc00f6e45fbd00ba36368e875">More...</a><br /></td></tr>
<tr class="separator:a1b01284dc00f6e45fbd00ba36368e875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60da0154bbdd7a8d277bf00e3849a342"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a60da0154bbdd7a8d277bf00e3849a342">transcountry</a> ($str, $countrycode)</td></tr>
<tr class="memdesc:a60da0154bbdd7a8d277bf00e3849a342"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return translation of a key depending on country.  <a href="#a60da0154bbdd7a8d277bf00e3849a342">More...</a><br /></td></tr>
<tr class="separator:a60da0154bbdd7a8d277bf00e3849a342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab14215b61ac7bcd0996c7be66d842d2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#ab14215b61ac7bcd0996c7be66d842d2a">transcountrynoentities</a> ($str, $countrycode)</td></tr>
<tr class="memdesc:ab14215b61ac7bcd0996c7be66d842d2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retourne la version traduite du texte passe en parametre complete du code pays.  <a href="#ab14215b61ac7bcd0996c7be66d842d2a">More...</a><br /></td></tr>
<tr class="separator:ab14215b61ac7bcd0996c7be66d842d2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf060076753076cc3ecfe3a985003412"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#aaf060076753076cc3ecfe3a985003412">convToOutputCharset</a> ($str, $pagecodefrom= 'UTF-8')</td></tr>
<tr class="memdesc:aaf060076753076cc3ecfe3a985003412"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a string into output charset (this-&gt;charset_output that should be defined to conf-&gt;file-&gt;character_set_client)  <a href="#aaf060076753076cc3ecfe3a985003412">More...</a><br /></td></tr>
<tr class="separator:aaf060076753076cc3ecfe3a985003412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14b808291cb0de75b8b5901faa81af10"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a14b808291cb0de75b8b5901faa81af10">get_available_languages</a> ($langdir=DOL_DOCUMENT_ROOT, $maxlength=0, $usecode=0)</td></tr>
<tr class="memdesc:a14b808291cb0de75b8b5901faa81af10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return list of all available languages.  <a href="#a14b808291cb0de75b8b5901faa81af10">More...</a><br /></td></tr>
<tr class="separator:a14b808291cb0de75b8b5901faa81af10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad97badbcfd87777b1ca109e621a78f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#aad97badbcfd87777b1ca109e621a78f9">file_exists</a> ($filename, $searchalt=0)</td></tr>
<tr class="memdesc:aad97badbcfd87777b1ca109e621a78f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return if a filename $filename exists for current language (or alternate language)  <a href="#aad97badbcfd87777b1ca109e621a78f9">More...</a><br /></td></tr>
<tr class="separator:aad97badbcfd87777b1ca109e621a78f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37200eba1eec8540ae01524202704250"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a37200eba1eec8540ae01524202704250">getLabelFromNumber</a> ($number, $isamount= '')</td></tr>
<tr class="memdesc:a37200eba1eec8540ae01524202704250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return full text translated to language label for a key.  <a href="#a37200eba1eec8540ae01524202704250">More...</a><br /></td></tr>
<tr class="separator:a37200eba1eec8540ae01524202704250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ae3cddec9d57e2045df599c188f4e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#ac4ae3cddec9d57e2045df599c188f4e9">getLabelFromKey</a> ($<a class="el" href="../../d0/d79/install_2inc_8php.html#ac5c9be6a1c1e82d353381986a8e859b6">db</a>, $key, $tablename, $fieldkey, $fieldlabel, $keyforselect= '', $filteronentity=0)</td></tr>
<tr class="memdesc:ac4ae3cddec9d57e2045df599c188f4e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a label for a key.  <a href="#ac4ae3cddec9d57e2045df599c188f4e9">More...</a><br /></td></tr>
<tr class="separator:ac4ae3cddec9d57e2045df599c188f4e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6100db48322d5d1669368207c9aaf4d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#aa6100db48322d5d1669368207c9aaf4d">getCurrencyAmount</a> ($currency_code, $amount)</td></tr>
<tr class="memdesc:aa6100db48322d5d1669368207c9aaf4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a currency code into its symbol.  <a href="#aa6100db48322d5d1669368207c9aaf4d">More...</a><br /></td></tr>
<tr class="separator:aa6100db48322d5d1669368207c9aaf4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72115c8e312f8fae31c3ec03955cf18b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a72115c8e312f8fae31c3ec03955cf18b">getCurrencySymbol</a> ($currency_code, $forceloadall=0)</td></tr>
<tr class="memdesc:a72115c8e312f8fae31c3ec03955cf18b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a currency code into its symbol.  <a href="#a72115c8e312f8fae31c3ec03955cf18b">More...</a><br /></td></tr>
<tr class="separator:a72115c8e312f8fae31c3ec03955cf18b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a415479f112b3ba07fd5dd9fafa912d66"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a415479f112b3ba07fd5dd9fafa912d66">loadCacheCurrencies</a> ($currency_code)</td></tr>
<tr class="memdesc:a415479f112b3ba07fd5dd9fafa912d66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load into the cache this-&gt;cache_currencies, all currencies.  <a href="#a415479f112b3ba07fd5dd9fafa912d66">More...</a><br /></td></tr>
<tr class="separator:a415479f112b3ba07fd5dd9fafa912d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7c53b6444392bc9470e93e95278e1b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#a5c7c53b6444392bc9470e93e95278e1b">get_translations_for_substitutions</a> ()</td></tr>
<tr class="memdesc:a5c7c53b6444392bc9470e93e95278e1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an array with content of all loaded translation keys (found into this-&gt;tab_translate) so we get a substitution array we can use for substitutions (for mail or ODT generation for example)  <a href="#a5c7c53b6444392bc9470e93e95278e1b">More...</a><br /></td></tr>
<tr class="separator:a5c7c53b6444392bc9470e93e95278e1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aee3a13df94e5b0a4281fd06cfc60033d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d47/class_translate.html#aee3a13df94e5b0a4281fd06cfc60033d">getTradFromKey</a> ($key)</td></tr>
<tr class="memdesc:aee3a13df94e5b0a4281fd06cfc60033d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return translated value of key for special keys ("Currency...", "Civility...", ...).  <a href="#aee3a13df94e5b0a4281fd06cfc60033d">More...</a><br /></td></tr>
<tr class="separator:aee3a13df94e5b0a4281fd06cfc60033d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to manage translations. </p>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00030">30</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a44ec704be2feb5fddaf051fd87520b12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$conf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$dir</td><td>Force directory that contains /langs subdirectory (value is sometimes '..' like into install/* pages or support/* pages). Use '' by default. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d8/d29/class_conf.html" title="Class to stock current configuration. ">Conf</a></td><td class="paramname">$conf</td><td>Object with Dolibarr configuration </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00051">51</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aaf060076753076cc3ecfe3a985003412"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">convToOutputCharset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$pagecodefrom</em> = <code>'UTF-8'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a string into output charset (this-&gt;charset_output that should be defined to conf-&gt;file-&gt;character_set_client) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$str</td><td>String to convert </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$pagecodefrom</td><td>Page code of src string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Converted string </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00753">753</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>Referenced by <a class="el" href="../../d0/d24/pdf_8lib_8php_source.html#l00336">pdfBuildThirdpartyName()</a>, and <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00661">transnoentities()</a>.</p>

</div>
</div>
<a class="anchor" id="aad97badbcfd87777b1ca109e621a78f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_exists </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$searchalt</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return if a filename $filename exists for current language (or alternate language) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>Language filename to search </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$searchalt</td><td>Search also alernate language file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean true if exists and readable </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00810">810</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>References <a class="el" href="../../d9/d69/functions_8lib_8php_source.html#l06731">dol_osencode()</a>.</p>

<p>Referenced by <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00842">getLabelFromNumber()</a>.</p>

</div>
</div>
<a class="anchor" id="a14b808291cb0de75b8b5901faa81af10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_available_languages </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$langdir</em> = <code>DOL_DOCUMENT_ROOT</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$maxlength</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$usecode</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return list of all available languages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$langdir</td><td>Directory to scan </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$maxlength</td><td>Max length for each value in combo box (will be truncated) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$usecode</td><td>1=Show code instead of country name for language variant, 2=Show only code </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array List of languages </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00770">770</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>References <a class="el" href="../../d9/d69/functions_8lib_8php_source.html#l02915">dol_trunc()</a>, <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00176">load()</a>, and <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00600">trans()</a>.</p>

</div>
</div>
<a class="anchor" id="a5c7c53b6444392bc9470e93e95278e1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_translations_for_substitutions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return an array with content of all loaded translation keys (found into this-&gt;tab_translate) so we get a substitution array we can use for substitutions (for mail or ODT generation for example) </p>
<dl class="section return"><dt>Returns</dt><dd>array Array of translation keys lang_key =&gt; string_translation_loaded </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l01034">1034</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="aa6100db48322d5d1669368207c9aaf4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getCurrencyAmount </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$currency_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$amount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a currency code into its symbol. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$currency_code</td><td>Currency Code </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$amount</td><td>If not '', show currency + amount according to langs ($10, 10€). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Amount + Currency symbol encoded into UTF8 </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000089">Deprecated:</a></b></dt><dd>Use method price to output a price </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d9/d69/functions_8lib_8php.html#acc8bb483354fbb7533e3a72ce660f123" title="Function to format a value into an amount for visual output Function used into PDF and HTML pages...">price()</a> </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00937">937</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>References <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00953">getCurrencySymbol()</a>.</p>

</div>
</div>
<a class="anchor" id="a72115c8e312f8fae31c3ec03955cf18b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getCurrencySymbol </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$currency_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$forceloadall</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a currency code into its symbol. </p>
<p>If mb_convert_encoding is not available, return currency code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$currency_code</td><td>Currency code </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$forceloadall</td><td>1=Force to load all currencies into cache. We know we need to use all of them. By default read and cache only the requested currency. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Currency symbol encoded into UTF8 </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00953">953</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>References <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00979">loadCacheCurrencies()</a>.</p>

<p>Referenced by <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00937">getCurrencyAmount()</a>.</p>

</div>
</div>
<a class="anchor" id="a306d4bc8cde7c374327b46e431902c98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getDefaultLang </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mode</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return active language code for current user It's an accessor for this-&gt;defaultlang. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$mode</td><td>0=Long language code, 1=Short language code (en, fr, es, ...) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Language code used (en_US, en_AU, fr_FR, ...) </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00135">135</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac4ae3cddec9d57e2045df599c188f4e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getLabelFromKey </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tablename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fieldkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fieldlabel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$keyforselect</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filteronentity</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a label for a key. </p>
<p>Search into translation array, then into cache, then if still not found, search into database. Store key-label found into cache variable $this-&gt;cache_labels to save SQL requests to get labels.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../db/d98/class_doli_d_b.html" title="Class to manage Dolibarr database access. ">DoliDB</a></td><td class="paramname">$db</td><td><a class="el" href="../../d8/d5b/interface_database.html" title="Class to manage Dolibarr database access for an SQL database. ">Database</a> handler </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Translation key to get label (key in language file) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$tablename</td><td>Table name without prefix </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fieldkey</td><td>Field for key </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fieldlabel</td><td>Field for label </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$keyforselect</td><td>Use another value than the translation key for the where into select </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$filteronentity</td><td>Use a filter on entity </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Label in UTF8 (but without entities) </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d9/d69/functions_8lib_8php.html#aeac9fbb840051977a21dd558d8009a0f" title="Return an id or code from a code or id. ">dol_getIdFromCode()</a> </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00885">885</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>References <a class="el" href="../../d9/d3c/compta_2index_8php_source.html#l01061">$resql</a>, <a class="el" href="../../d9/d69/functions_8lib_8php_source.html#l01002">dol_syslog()</a>, <a class="el" href="../../d9/d69/functions_8lib_8php_source.html#l00080">getEntity()</a>, and <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00682">transnoentitiesnoconv()</a>.</p>

<p>Referenced by <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00543">getTradFromKey()</a>.</p>

</div>
</div>
<a class="anchor" id="a37200eba1eec8540ae01524202704250"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getLabelFromNumber </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$isamount</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return full text translated to language label for a key. </p>
<p>Store key-label in a cache. This function need module "numberwords" to be installed. If not it will return same number (this module is not provided by default as it use non GPL source code).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$number</td><td>Number to encode in full text </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$isamount</td><td>''=it's just a number, '1'=It's an amount (default currency), 'currencycode'=It's an amount (foreign currency) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Label translated in UTF8 (but without entities) 10 if setDefaultLang was en_US =&gt; ten 123 if setDefaultLang was fr_FR =&gt; cent vingt trois </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00842">842</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>References <a class="el" href="../../d9/d69/functions_8lib_8php_source.html#l00674">dol_buildpath()</a>, <a class="el" href="../../d9/d69/functions_8lib_8php_source.html#l06731">dol_osencode()</a>, and <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00810">file_exists()</a>.</p>

</div>
</div>
<a class="anchor" id="aee3a13df94e5b0a4281fd06cfc60033d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">getTradFromKey </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return translated value of key for special keys ("Currency...", "Civility...", ...). </p>
<p>Search in lang file, then into database. Key must be any complete entry into lang file: CurrencyEUR, ... If not found, return key. The string return is not formated (translated with transnoentitiesnoconv) NOTE: To avoid infinite loop (getLabelFromKey-&gt;transnoentities-&gt;getTradFromKey), if you modify this function, check that getLabelFromKey is not called with same value than input.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Key to translate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Translated string (translated with transnoentitiesnoconv) </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00543">543</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>References <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00885">getLabelFromKey()</a>.</p>

<p>Referenced by <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00600">trans()</a>, and <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00682">transnoentitiesnoconv()</a>.</p>

</div>
</div>
<a class="anchor" id="aa7821777011476e07448de1e91a06fbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">load </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$alt</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$stopafterdirection</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$forcelangdir</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$loadfromfileonly</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load translation key-value for a particular file, into a memory array. </p>
<p>If data for file already loaded, do nothing. All data in translation array are stored in UTF-8 format. tab_loaded is completed with $domain key. rule "we keep first entry found with we keep last entry found" so it is probably not what you want to do.</p>
<p>Value for hash are: 1:Loaded from disk, 2:Not found, 3:Loaded from cache</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$domain</td><td>File name to load (.lang file). Must be "file" or "file@module" for module language files: If $domain is "file@module" instead of "file" then we look for module lang file in htdocs/custom/modules/mymodule/langs/code_CODE/file.lang then in htdocs/module/langs/code_CODE/file.lang instead of htdocs/langs/code_CODE/file.lang </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$alt</td><td>0 (try xx_ZZ then 1), 1 (try xx_XX then 2), 2 (try en_US) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$stopafterdirection</td><td>Stop when the DIRECTION tag is found (optimize speed) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$forcelangdir</td><td>To force a different lang directory </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$loadfromfileonly</td><td>1=Do not load overwritten translation from file or old conf. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int &lt;0 if KO, 0 if already loaded or loading not required, &gt;0 if OK </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d47/class_translate.html#a0482e38489845de6c3c3ccdc49bb0f04" title="Load translation files. ">loadLangs()</a> </dd></dl>
<p>Read each lines until a '=' (with any combination of spaces around it) and split the rest until a line feed. This is more efficient than fgets + explode + trim by a factor of ~2.</p>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00176">176</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>References <a class="el" href="../../d6/d54/memory_8lib_8php_source.html#l00110">dol_getcache()</a>, <a class="el" href="../../d9/d69/functions_8lib_8php_source.html#l06731">dol_osencode()</a>, <a class="el" href="../../d9/d69/functions_8lib_8php_source.html#l03749">dol_print_error()</a>, <a class="el" href="../../d6/d54/memory_8lib_8php_source.html#l00042">dol_setcache()</a>, <a class="el" href="../../d9/d69/functions_8lib_8php_source.html#l01002">dol_syslog()</a>, and <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00403">loadFromDatabase()</a>.</p>

<p>Referenced by <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00770">get_available_languages()</a>, <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00979">loadCacheCurrencies()</a>, <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00148">loadLangs()</a>, <a class="el" href="../../d4/d61/interface__20__all___logevents_8class_8php_source.html#l00060">InterfaceLogevents\runTrigger()</a>, <a class="el" href="../../d6/d34/interface__50__mod_agenda___actions_auto_8class_8php_source.html#l00072">InterfaceActionsAuto\runTrigger()</a>, and <a class="el" href="../../d2/d5e/interface__50__mod_ticket___ticket_email_8class_8php_source.html#l00108">InterfaceTicketEmail\runTrigger()</a>.</p>

</div>
</div>
<a class="anchor" id="a415479f112b3ba07fd5dd9fafa912d66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">loadCacheCurrencies </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$currency_code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load into the cache this-&gt;cache_currencies, all currencies. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$currency_code</td><td>Get only currency. Get all if ''. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Nb of loaded lines, 0 if already loaded, &lt;0 if KO </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00979">979</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>References <a class="el" href="../../d9/d3c/compta_2index_8php_source.html#l01061">$resql</a>, <a class="el" href="../../d9/d69/functions_8lib_8php_source.html#l03749">dol_print_error()</a>, <a class="el" href="../../d9/d69/functions_8lib_8php_source.html#l01002">dol_syslog()</a>, <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00176">load()</a>, and <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00600">trans()</a>.</p>

<p>Referenced by <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00953">getCurrencySymbol()</a>.</p>

</div>
</div>
<a class="anchor" id="a0290ae6ca821c919ec9a8f69edac1b26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">loadFromDatabase </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load translation key-value from database into a memory array. </p>
<p>If data already loaded, do nothing. All data in translation array are stored in UTF-8 format. tab_loaded is completed with $domain key. rule "we keep first entry found with we keep last entry found" so it is probably not what you want to do.</p>
<p>Value for hash are: 1:Loaded from disk, 2:Not found, 3:Loaded from cache</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d8/d5b/interface_database.html" title="Class to manage Dolibarr database access for an SQL database. ">Database</a></td><td class="paramname">$db</td><td><a class="el" href="../../d8/d5b/interface_database.html" title="Class to manage Dolibarr database access for an SQL database. ">Database</a> handler </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int &lt;0 if KO, 0 if already loaded or loading not required, &gt;0 if OK </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00403">403</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>References <a class="el" href="../../d9/d3c/compta_2index_8php_source.html#l01061">$resql</a>, <a class="el" href="../../d6/d54/memory_8lib_8php_source.html#l00110">dol_getcache()</a>, <a class="el" href="../../d9/d69/functions_8lib_8php_source.html#l03749">dol_print_error()</a>, <a class="el" href="../../d6/d54/memory_8lib_8php_source.html#l00042">dol_setcache()</a>, and <a class="el" href="../../d9/d69/functions_8lib_8php_source.html#l01002">dol_syslog()</a>.</p>

<p>Referenced by <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00176">load()</a>.</p>

</div>
</div>
<a class="anchor" id="a0482e38489845de6c3c3ccdc49bb0f04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">loadLangs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$domains</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load translation files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$domains</td><td>Array of lang files to load </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int &lt;0 if KO, 0 if already loaded or loading not required, &gt;0 if OK </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00148">148</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>References <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00176">load()</a>.</p>

<p>Referenced by <a class="el" href="../../d6/d34/interface__50__mod_agenda___actions_auto_8class_8php_source.html#l00072">InterfaceActionsAuto\runTrigger()</a>.</p>

</div>
</div>
<a class="anchor" id="a62d6cf97c37e86945cdc34d78d4a8bd4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setDefaultLang </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$srclang</em> = <code>'en_US'</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set accessor for this-&gt;defaultlang. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$srclang</td><td>Language to use. If '' or 'auto', we use browser lang. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00065">65</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8621782a6bd9d9e9081a90b8e0f705a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">trans </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param1</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param2</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param3</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param4</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$maxsize</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return text translated of text received as parameter (and encode it into HTML) Si il n'y a pas de correspondance pour ce texte, on cherche dans fichier alternatif et si toujours pas trouve, il est retourne tel quel Les parametres de cette methode peuvent contenir de balises HTML. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Key to translate </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param1</td><td>chaine de param1 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param2</td><td>chaine de param2 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param3</td><td>chaine de param3 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param4</td><td>chaine de param4 </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$maxsize</td><td>Max length of text </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Translated string (encoded into HTML entities and UTF8) </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00600">600</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>References <a class="el" href="../../d9/d69/functions_8lib_8php_source.html#l02915">dol_trunc()</a>, and <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00543">getTradFromKey()</a>.</p>

<p>Referenced by <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00770">get_available_languages()</a>, <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00979">loadCacheCurrencies()</a>, <a class="el" href="../../d6/d34/interface__50__mod_agenda___actions_auto_8class_8php_source.html#l00072">InterfaceActionsAuto\runTrigger()</a>, <a class="el" href="../../d2/d5e/interface__50__mod_ticket___ticket_email_8class_8php_source.html#l00108">InterfaceTicketEmail\runTrigger()</a>, and <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00725">transcountry()</a>.</p>

</div>
</div>
<a class="anchor" id="a60da0154bbdd7a8d277bf00e3849a342"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">transcountry </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$countrycode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return translation of a key depending on country. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$str</td><td>string root to translate </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$countrycode</td><td>country code (FR, ...) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string translated string </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00725">725</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>References <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00600">trans()</a>.</p>

</div>
</div>
<a class="anchor" id="ab14215b61ac7bcd0996c7be66d842d2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">transcountrynoentities </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$countrycode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retourne la version traduite du texte passe en parametre complete du code pays. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$str</td><td>string root to translate </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$countrycode</td><td>country code (FR, ...) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string translated string </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00739">739</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>References <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00661">transnoentities()</a>.</p>

</div>
</div>
<a class="anchor" id="a69ac1a2f8eb76858d64badeb86421053"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">transnoentities </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param1</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param2</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param3</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param4</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param5</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return translated value of a text string Si il n'y a pas de correspondance pour ce texte, on cherche dans fichier alternatif et si toujours pas trouve, il est retourne tel quel. </p>
<p>Parameters of this method must not contains any HTML tags.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Key to translate </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param1</td><td>chaine de param1 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param2</td><td>chaine de param2 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param3</td><td>chaine de param3 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param4</td><td>chaine de param4 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param5</td><td>chaine de param5 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Translated string (encoded into UTF8) </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00661">661</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>References <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00753">convToOutputCharset()</a>, and <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00682">transnoentitiesnoconv()</a>.</p>

<p>Referenced by <a class="el" href="../../d4/d61/interface__20__all___logevents_8class_8php_source.html#l00060">InterfaceLogevents\runTrigger()</a>, <a class="el" href="../../d6/d34/interface__50__mod_agenda___actions_auto_8class_8php_source.html#l00072">InterfaceActionsAuto\runTrigger()</a>, <a class="el" href="../../d2/d5e/interface__50__mod_ticket___ticket_email_8class_8php_source.html#l00108">InterfaceTicketEmail\runTrigger()</a>, and <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00739">transcountrynoentities()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b01284dc00f6e45fbd00ba36368e875"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">transnoentitiesnoconv </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param1</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param2</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param3</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param4</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$param5</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return translated value of a text string Si il n'y a pas de correspondance pour ce texte, on cherche dans fichier alternatif et si toujours pas trouve, il est retourne tel quel. </p>
<p>No convert to encoding charset of lang object is done. Parameters of this method must not contains any HTML tags.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Key to translate </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param1</td><td>chaine de param1 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param2</td><td>chaine de param2 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param3</td><td>chaine de param3 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param4</td><td>chaine de param4 </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$param5</td><td>chaine de param5 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Translated string </dd></dl>

<p>Definition at line <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00682">682</a> of file <a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a>.</p>

<p>References <a class="el" href="../../d9/d69/functions_8lib_8php_source.html#l06825">dol_eval()</a>, and <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00543">getTradFromKey()</a>.</p>

<p>Referenced by <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00885">getLabelFromKey()</a>, and <a class="el" href="../../d3/de9/translate_8class_8php_source.html#l00661">transnoentities()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>htdocs/core/class/<a class="el" href="../../d3/de9/translate_8class_8php_source.html">translate.class.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- 
File added into doxygen generated documentation
-->
<hr class="footer" />
<address class="footer"><small>Generated on Tue Aug 27 2019 21:55:50 for <a href="https://www.dolibarr.org">Dolibarr</a> by Doxygen 1.8.11 </small></address>
<br>
</div>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-9049390-16"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-9049390-16');
</script>
<!-- Twitter ad collector -->
<script src="//platform.twitter.com/oct.js" type="text/javascript"></script>
<script type="text/javascript">twttr.conversion.trackPid('ntm4n', { tw_sale_amount: 0, tw_order_quantity: 0 });</script>
<noscript>
<img height="1" width="1" style="display:none;" alt="" src="https://analytics.twitter.com/i/adsct?txn_id=ntm4n&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0" />
<img height="1" width="1" style="display:none;" alt="" src="//t.co/i/adsct?txn_id=ntm4n&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0" />
</noscript>
</body>
</html>